---
 - name: Rollback configuration on junos devices
   hosts: Chris-test
   roles:       
    - Juniper.junos
   connection: local
   gather_facts: no

   vars_prompt:
    - name: DEVICE_PASSWORD
      prompt: Device password
      private: yes
    #- name: USERNAME
    #  prompt: User name
    #  private: no

   tasks:

   - name: Rollback_junos_config_task
     junos_rollback:
      host={{ inventory_hostname }}
      user=pytraining
      passwd={{ DEVICE_PASSWORD }}
      logfile={{playbook_dir}}/rollback.log
      diffs_file={{playbook_dir}}/{{ inventory_hostname }}.diff
      rollback=1
      comment="configuration rolled back by Ansible"
